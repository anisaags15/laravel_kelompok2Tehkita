/* ================================================================
1. GLOBAL SETTINGS & LIGHT MODE (DEFAULT)
================================================================ */
body {
    font-family: 'Poppins', sans-serif;
    background-color: #f3faf5 !important;
    color: #2f3e46;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.content-wrapper {
    background-color: #f3faf5 !important;
    padding: 1rem !important;
}

/* Scrollbar Halus */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-thumb { background: #e0eee0; border-radius: 10px; }

/* ================================================================
2. SIDEBAR, CARD & COMPONENTS (LIGHT MODE)
================================================================ */
.main-sidebar {
    background: #ffffff !important;
    border-right: 1px solid #e0eee0 !important;
}

.brand-text {
    color: #198754 !important;
    font-weight: 700 !important;
}

.nav-sidebar .nav-link.active {
    background-color: #198754 !important;
    color: #ffffff !important;
}

.card {
    border-radius: 15px !important;
    border: none !important;
    margin-bottom: 1rem;
    overflow: hidden;
    background-color: #ffffff !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.03);
}

/* FIX AUDIT LOG & TEXT DI MODE TERANG */
.card-title, .card-header, .audit-log-title, h1, h2, h3, h4, h5, h6 {
    color: #2f3e46 !important;
    font-weight: 700 !important;
}

.card-footer.bg-white {
    background-color: #ffffff !important;
    border-top: 1px solid #f1f1f1 !important;
}

.text-muted {
    color: #6c757d !important;
}

/* Info Box & Clock Adaptive (Light Mode) */
.info-box-custom {
    background: #ffffff !important;
    color: #2f3e46 !important;
    border-radius: 15px;
    display: flex;
    align-items: center;
    padding: 15px 20px;
}

.clock-wrapper {
    background: #f8f9fa;
    border: 1px solid #eee;
}

.opacity-text { color: #6c757d; }
.text-adaptive { color: #4b5d53; }

/* ================================================================
3. FORM & INPUT MODERN (LIGHT MODE)
================================================================ */
.input-group-modern { 
    display: flex !important; 
    align-items: stretch !important; 
    width: 100%; 
    border-radius: 12px; 
    overflow: hidden;
    border: 1px solid #ced4da;
    background: #ffffff !important;
    min-height: 50px;
    transition: all 0.3s ease;
}

.input-group-modern:focus-within {
    border-color: #198754 !important;
    box-shadow: 0 0 0 3px rgba(25, 135, 84, 0.1);
}

/* KOTAK IKON TERPISAH (ANTI-TUMPANG TINDIH) */
.input-group-prepend-custom,
.input-icon,
.input-icon-danger {
    width: 55px; /* Kunci lebar kotak ikon */
    display: flex; 
    align-items: center; 
    justify-content: center;
    background: #f8f9fa;
    border-right: 1px solid #ced4da;
    color: #4b5d53;
    flex-shrink: 0; /* Ikon dilarang mengecil saat diketik banyak teks */
}

.input-icon-danger {
    background: #fff5f5; 
    color: #dc3545;
}

/* INPUT TEXT AREA */
.input-custom-modern, 
.form-control.input-modern, 
.custom-select-modern {
    border: none !important;
    background: transparent !important;
    color: #2f3e46 !important;
    height: 50px !important;
    padding: 10px 15px !important;
    flex: 1;
    width: 100%;
}

.input-custom-modern:focus {
    outline: none !important;
    box-shadow: none !important;
}

/* Tombol Simpan Kustom */
.btn-simpan-custom {
    height: 50px;
    border-radius: 12px;
    font-weight: 700;
}

/* Bungkusan Select2 */
.container-select2 .select2-container--default .select2-selection--single {
    border: none !important;
    background: transparent !important;
    height: 50px !important;
    display: flex !important;
    align-items: center !important;
}
.container-select2 .select2-container--default .select2-selection--single .select2-selection__rendered {
    padding-left: 15px !important;
}

/* ================================================================
4. PAGINATION BUTTONS
================================================================ */
.pagination .page-link {
    border: none !important;
    border-radius: 8px !important;
    margin: 0 3px;
    background-color: #f8f9fa;
    color: #4b5d53;
}

.pagination .page-item.active .page-link {
    background-color: #198754 !important;
    color: white !important;
}

/* ================================================================
5. DARK MODE OVERRIDE (DIBUNGKUS .dark-mode)
================================================================ */

.dark-mode body, 
.dark-mode .content-wrapper {
    background-color: #121212 !important;
    color: #ffffff !important;
}

.dark-mode .card,
.dark-mode .card-footer.bg-white {
    background-color: #1a1d20 !important;
    color: #ffffff !important;
    border: 1px solid #2c3136 !important;
}

.dark-mode .card-title, 
.dark-mode .card-header,
.dark-mode .audit-log-title,
.dark-mode h1, .dark-mode h2, .dark-mode h3, 
.dark-mode h4, .dark-mode h5, .dark-mode h6,
.dark-mode label, .dark-mode p, .dark-mode strong {
    color: #ffffff !important;
}

/* Input Group Dark Mode */
.dark-mode .input-group-modern {
    background-color: #25282c !important;
    border: 1px solid #3d4146 !important;
}

.dark-mode .input-custom-modern,
.dark-mode .form-control.input-modern,
.dark-mode .custom-select-modern {
    color: #ffffff !important;
}

/* Kotak Ikon Dark Mode */
.dark-mode .input-group-prepend-custom,
.dark-mode .input-icon {
    background-color: #2c3136 !important;
    border-color: #3d4146 !important;
    color: #adb5bd !important;
}

.dark-mode .input-icon-danger {
    background-color: #2c1a1a !important;
    border-color: #3d4146 !important;
    color: #fb7185 !important;
}

/* Select2 Dark Mode */
.dark-mode .select2-container--default .select2-selection--single .select2-selection__rendered,
.dark-mode .container-select2 .select2-container--default .select2-selection--single .select2-selection__rendered {
    color: white !important;
}

.dark-mode .select2-dropdown {
    background-color: #25282c !important;
    color: white !important;
    border: 1px solid #3d4146 !important;
}

.dark-mode .select2-results__option {
    background-color: #25282c !important;
    color: white !important;
}

/* Info Box & Clock Dark Mode */
.dark-mode .info-box-custom {
    background: #1a1d20 !important;
    color: #ffffff !important;
    border: 1px solid #2c3136 !important;
}

.dark-mode .clock-wrapper {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
}

.dark-mode .opacity-text { color: rgba(255,255,255,0.5); }
.dark-mode .text-adaptive { color: rgba(255,255,255,0.75); }

/* Sidebar Dark */
.dark-mode .main-sidebar { 
    background: #1a1d20 !important; 
    border-right: 1px solid #2c3136 !important; 
}

.dark-mode .text-muted {
    color: #8898aa !important;
}

.dark-mode .page-link {
    background-color: #2c3136 !important;
    color: #adb5bd !important;
}

/* Date Picker Fix */
.dark-mode input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
}

/* ================================================================
ADDITIONAL FIX FOR WASTE HEADER SECTION (NEW)
================================================================ */
.header-waste-wrapper {
    border-left: 5px solid #e74a3b !important;
}

.dark-mode .header-waste-wrapper {
    background-color: #1a1d20 !important;
    border-left: 5px solid #e74a3b !important;
}

/* TABLE ADAPTIVE */
.table-header-adaptive {
    background-color: #fcfcfd !important;
    border-bottom: 1px solid #f1f1f4 !important;
}

.dark-mode .table-header-adaptive {
    background-color: #25282c !important;
    border-bottom: 1px solid #3d4146 !important;
}

.border-adaptive {
    border-color: #f1f1f4 !important;
}

.dark-mode .border-adaptive {
    border-color: #3d4146 !important;
}

/* WASTE BUBBLE ADAPTIVE */
.waste-bubble-adaptive {
    background: #fffafa;
    padding: 6px 14px;
    border-radius: 10px;
    display: inline-block;
    border: 1px solid #ffebeb;
}

.dark-mode .waste-bubble-adaptive {
    background: rgba(231, 74, 59, 0.1);
    border: 1px solid rgba(231, 74, 59, 0.2);
}

/* KETERANGAN BOX ADAPTIVE */
.keterangan-box-adaptive {
    padding: 10px;
    border-radius: 8px;
    font-size: 0.85rem;
    color: #6c757d;
    font-style: italic;
    background-color: #f8f9fc;
    border-left: 3px solid #e74a3b;
}

.dark-mode .keterangan-box-adaptive {
    background-color: #25282c;
    color: #adb5bd;
}

/* FOOTER ADAPTIVE */
.bg-adaptive {
    background-color: #ffffff !important;
}

.dark-mode .bg-adaptive {
    background-color: #1a1d20 !important;
}

.dark-mode .table-row-modern:hover {
    background-color: #25282c !important;
}

/* HEADER DISTRIBUSI ADAPTIVE */
.header-distribusi-wrapper {
    background-color: #ffffff;
    border-left: 5px solid #4e73df;
    border-radius: 15px;
}

.dark-mode .header-distribusi-wrapper {
    background-color: #1a1d20;
    border-left: 5px solid #3751a1;
}

/* STOCK BUBBLE ADAPTIVE */
.distribusi-bubble-adaptive {
    background: #f0f7ff;
    padding: 6px 14px;
    border-radius: 10px;
    display: inline-block;
    border: 1px solid #e1f0ff;
}

.dark-mode .distribusi-bubble-adaptive {
    background: rgba(78, 115, 223, 0.1);
    border: 1px solid rgba(78, 115, 223, 0.2);
}

.distribusi-bubble-adaptive .amount { font-weight: 800; font-size: 1rem; }
.distribusi-bubble-adaptive .unit { font-size: 0.7rem; font-weight: 600; }
/* ================================================================
   6. RIWAYAT & TABLE COMPONENTS (NEW)
   ================================================================ */
.bg-soft-success { background-color: rgba(28, 200, 138, 0.1); }

.avatar-icon {
    width: 42px; height: 42px; 
    border-radius: 12px; 
    display: flex; align-items: center; justify-content: center; 
    font-weight: bold;
}

/* BUBBLE USAGE ADAPTIVE */
.usage-bubble-adaptive {
    background: #fffafa;
    border: 1px solid #ffebeb;
    padding: 5px 12px;
    border-radius: 10px;
    display: inline-block;
}

.dark-mode .usage-bubble-adaptive {
    background: rgba(231, 74, 59, 0.05) !important;
    border: 1px solid rgba(231, 74, 59, 0.1) !important;
}

.usage-bubble-adaptive .amount { font-weight: 800; font-size: 1rem; }

/* BADGE STATUS */
.badge-status-success {
    background: rgba(28, 200, 138, 0.1);
    color: #1cc88a;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    border: 1px solid rgba(28, 200, 138, 0.3);
}

.badge-status-success .dot {
    height: 8px; width: 8px; background-color: #1cc88a;
    border-radius: 50%; display: inline-block; margin-right: 5px;
}

/* INPUT SEARCH ADAPTIVE */
.input-adaptive {
    background-color: #f8f9fc !important;
    color: #333 !important;
    transition: all 0.3s;
}

.dark-mode .input-adaptive {
    background-color: #1e2125 !important;
    color: #e0e0e0 !important;
}

/* PAGINATION FIX */
.pagination-container .pagination { margin-bottom: 0; gap: 5px; }
.pagination-container .page-item .page-link {
    border-radius: 10px !important;
    margin: 0 3px;
    border: none !important;
    background: #f8f9fc;
    color: #4e73df;
    font-weight: 600;
    padding: 8px 14px;
    transition: 0.3s;
}

.dark-mode .pagination-container .page-item:not(.active) .page-link {
    background: #2c3034 !important;
    color: #aab2bd !important;
}

.pagination-container .page-item.active .page-link {
    background: #4e73df !important;
    color: white !important;
    box-shadow: 0 4px 10px rgba(78, 115, 223, 0.3);
}

.footer-adaptive {
    background-color: #ffffff !important;
    border-top: 1px solid #f1f1f4 !important;
}

.dark-mode .footer-adaptive {
    background-color: #1a1d20 !important;
    border-top: 1px solid #3d4146 !important;
}